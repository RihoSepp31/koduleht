<!DOCTYPE html>
<html lang="et">
<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CPDHGQBX4K"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-CPDHGQBX4K');
    </script>

    <!-- Meta Information -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Riho Sepa Maitsete nurk - kokaraamat ja retseptid">
    <meta name="keywords" content="Riho Sepp, retseptid, kokandus, maitsete nurk, Eesti toit">
    <meta name="author" content="Riho Sepp">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Maitsete nurk - Riho Sepp">
    <meta property="og:description" content="Minu lemmikretseptid, köögikatsetused ja maitsvad hetked">
    <meta property="og:image" content="../pildid/pilt1.jpg">
    <meta property="og:url" content="https://rihosepp.com/maitsetenurk/kokandus.html">
    <meta property="og:type" content="website">

    <title>Maitsete nurk – Riho Sepp</title>

    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="../css/kokandus.css">

    <!-- Google Translate override styles -->
    <style>
        .goog-te-banner-frame.skiptranslate{display:none!important}
        body{top:0!important}
        .goog-te-gadget-icon{display:none!important}
        #goog-gt-tt,.goog-te-balloon-frame{display:none!important}
        .lang-btn,.lang-btn-mobile{background:transparent;border:1px solid var(--border-glass);color:var(--text-secondary);padding:6px 12px;border-radius:20px;cursor:pointer;transition:.3s;font-size:.85rem;font-weight:500}
        .lang-btn:hover,.lang-btn-mobile:hover{background:rgba(255,255,255,.1);color:var(--text-primary);border-color:rgba(255,255,255,.2);transform:translateY(-2px)}
        .lang-btn.active,.lang-btn-mobile.active{background:rgba(0,255,136,.1);color:var(--accent-primary);border-color:var(--accent-primary)}
        .language-menu-mobile{display:none}
        @media (max-width:768px){
            #language-buttons{display:none}
            .language-menu-mobile{display:block;width:100%;padding:1rem 0;border-top:1px solid var(--border-glass)}
            .mobile-lang-title{color:var(--text-muted);font-size:.9rem;margin-bottom:.5rem;text-align:center}
            .mobile-lang-buttons{display:flex;justify-content:center;gap:.5rem;flex-wrap:wrap}
        }
        .translated-ltr{margin-top:0!important}
        .navbar{position:relative;z-index:1000}

        /* Minimaalne lisa-stiil dünaamiliste kaartide jaoks (kui su CSS ei kata) */
        .recipe-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1.2rem}
        .recipe-card{background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.08);padding:1rem;border-radius:1rem;transition:transform .15s ease, box-shadow .15s ease;text-decoration:none;color:inherit}
        .recipe-card:hover{transform:translateY(-2px);box-shadow:0 6px 22px rgba(0,0,0,.15)}
        .recipe-img{width:100%;height:180px;object-fit:cover;border-radius:.8rem;margin-bottom:.7rem;background:#111}
        .chip{display:inline-block;padding:.18rem .5rem;border-radius:999px;font-size:.78rem;border:1px solid rgba(255,255,255,.15);margin-right:.35rem;margin-bottom:.35rem}
        .toolbar{display:flex;gap:.5rem;align-items:center;justify-content:space-between;margin:1rem 0}
        .toolbar .search{flex:1;display:flex;gap:.5rem}
        .toolbar input[type="search"], .toolbar select{padding:.6rem;border-radius:.6rem;border:1px solid rgba(255,255,255,.18);background:#121214;color:#fff}
        .empty{text-align:center;opacity:.7;padding:2rem}
    </style>

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "RecipeWebsite",
      "name": "Maitsete nurk",
      "author": {"@type": "Person","name": "Riho Sepp"},
      "description": "Riho Sepa kokaraamat ja retseptid",
      "url": "https://rihosepp.com/maitsetenurk/kokandus.html"
    }
    </script>
</head>
<body class="dark-theme">

    <!-- Hidden Google Translate Element -->
    <div id="google_translate_element" style="display: none;"></div>

    <!-- Skip to Main Content -->
    <a href="#main-content" class="sr-only">Liigu peamisele sisule</a>

    <!-- Navigation -->
    <nav class="navbar" role="navigation" aria-label="Peamine navigatsioon">
        <div class="nav-container">
            <a class="logo" href="../index.html" aria-label="Avaleht"><span translate="no">Riho Sepp</span></a>

            <!-- Mobile Menu Toggle -->
            <button class="nav-toggle" aria-label="Ava menüü" aria-expanded="false">
                <span></span><span></span><span></span>
            </button>

            <ul class="nav-links" role="menubar">
                <li role="none"><a href="../index.html" role="menuitem">Avaleht</a></li>
                <li role="none"><a href="../projektid.html" role="menuitem">Projektid</a></li>
                <li role="none"><a href="../minust/aboutme.html" role="menuitem">Minust</a></li>
                <li role="none"><a href="#" class="active" role="menuitem">Maitsete nurk</a></li>
                <li role="none"><a href="../meelelahutus/meelelahutus.html" role="menuitem">Meelelahutus</a></li>
                <li role="none"><a href="../meie.html" role="menuitem">Meie lugu</a></li>
                <li role="none"><a href="../raagi_kaasa.html" role="menuitem">Räägi kaasa</a></li>
                <li role="none"><a href="../kontakt.html" role="menuitem">Kontakt</a></li>

                <!-- Desktop keelevalik -->
                <li role="none" id="language-buttons" class="language-selector">
                    <button onclick="translatePage('et')" class="lang-btn active" title="Eesti keel">🇪🇪 ET</button>
                    <button onclick="translatePage('en')" class="lang-btn" title="English">🇬🇧 EN</button>
                    <button onclick="translatePage('fi')" class="lang-btn" title="Suomi">🇫🇮 FI</button>
                    <button onclick="translatePage('ru')" class="lang-btn" title="Русский">🇷🇺 RU</button>
                </li>

                <!-- Mobiilne keelevalik -->
                <li role="none" class="language-menu-mobile">
                    <div class="mobile-lang-title">Vali keel / Choose language:</div>
                    <div class="mobile-lang-buttons">
                        <button onclick="translatePage('et')" class="lang-btn-mobile active">🇪🇪 Eesti</button>
                        <button onclick="translatePage('en')" class="lang-btn-mobile">🇬🇧 English</button>
                        <button onclick="translatePage('fi')" class="lang-btn-mobile">🇫🇮 Suomi</button>
                        <button onclick="translatePage('ru')" class="lang-btn-mobile">🇷🇺 Русский</button>
                    </div>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Hero Section -->
        <section class="hero-section" aria-label="Tutvustus">
            <h1 class="welcome-heading">Tere tulemast!</h1>
            <p class="intro-text">
                Ma mäletan, et juba päris väiksena meeldis mulle mängida kokka... Minu kokandusteekonna algusest saab rohkem lugeda lehelt Minust.
            </p>
            <p class="intro-text">
                Aga üks asi on kindel: olen alati toitu austanud. Pole midagi paremat kui teha süüa, katsetada uusi kooslusi, olla loov – ja näha, kuidas taldrik jääb lõpuks tühjaks. See on koka suurim tunnustus.
            </p>
            <p class="intro-text">
                Minu jaoks ei ole kokkamine pelgalt kõhutäis. See on viis, kuidas ma end väljendan, räägin oma lugu ja pakun teistele killukese endast. Soovin, et minu toit ei oleks lihtsalt maitsev – vaid et seda armastataks.
            </p>
            <p class="intro-text">
                Sellelt lehelt leiadki minu lemmikretseptid, köögikatsetused ja maitsvad hetked, mida tahan sinuga jagada. Ühendame maitsed, loovuse ja lihtsuse — ühte nurka. Maitsete nurka.
            </p>
        </section>

        <!-- Recipes Section (DÜNAAMILINE) -->
        <section class="recipes" aria-label="Retseptid">
          <div class="toolbar">
            <div class="search">
              <input type="search" id="searchInput" placeholder="Otsi pealkirja, koostisosi või silte..." aria-label="Otsi retsepte">
              <select id="categoryFilter" aria-label="Filtreeri kategooria järgi">
                <option value="">Kõik kategooriad</option>
                <option>Hommikusöök</option>
                <option>Lõuna</option>
                <option>Õhtu</option>
                <option>Magustoit</option>
                <option>Joogid</option>
                <option>Muu</option>
              </select>
            </div>
            <button id="openAdmin" class="btn-modern btn-secondary">✏️ Lisa retsept</button>
          </div>

          <div id="activeFilters" style="margin:.5rem 0"></div>

          <div id="recipesList" class="recipe-grid" aria-live="polite">
            <div class="empty">Laen retsepte...</div>
          </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <p>&copy; 2025 <span translate="no">Riho Sepp</span> - Maitsete nurk</p>
    </footer>

    <!-- Admin modal retsepti lisamiseks -->
    <div id="adminPanel" class="admin-panel" role="dialog" aria-label="Lisa retsept"
         style="position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center;padding:1rem;z-index:9999">
      <div class="admin-box" style="background:#0e0e0f;border:1px solid rgba(255,255,255,.08);border-radius:1rem;max-width:860px;width:100%;padding:1rem">
        <h2>➕ Uus retsept</h2>
        <div class="admin-grid" style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
          <div>
            <label>Pealkiri</label>
            <input id="rTitle" placeholder="nt. Kreemine kanapasta" style="width:100%;background:#121214;color:#fff;border:1px solid rgba(255,255,255,.12);border-radius:.6rem;padding:.6rem"/>
          </div>
          <div>
            <label>Kategooria</label>
            <select id="rCategory" style="width:100%;background:#121214;color:#fff;border:1px solid rgba(255,255,255,.12);border-radius:.6rem;padding:.6rem">
              <option>Hommikusöök</option><option>Lõuna</option><option>Õhtu</option>
              <option>Magustoit</option><option>Joogid</option><option selected>Muu</option>
            </select>
          </div>
          <div>
            <label>Portsud (tk)</label>
            <input id="rServings" type="number" min="1" value="2" style="width:100%;background:#121214;color:#fff;border:1px solid rgba(255,255,255,.12);border-radius:.6rem;padding:.6rem"/>
          </div>
          <div>
            <label>Valmistamise aeg (min)</label>
            <input id="rTime" type="number" min="1" value="25" style="width:100%;background:#121214;color:#fff;border:1px solid rgba(255,255,255,.12);border-radius:.6rem;padding:.6rem"/>
          </div>
          <div style="grid-column:1/-1">
            <label>Lühikirjeldus</label>
            <input id="rIntro" placeholder="Lühike kirjeldus..." style="width:100%;background:#121214;color:#fff;border:1px solid rgba(255,255,255,.12);border-radius:.6rem;padding:.6rem"/>
          </div>
          <div>
            <label>Koostisosad (üks rida = üks koostis)</label>
            <textarea id="rIngredients" rows="6" placeholder="200 g pasta&#10;200 g kana&#10;200 ml koor ..." style="width:100%;background:#121214;color:#fff;border:1px solid rgba(255,255,255,.12);border-radius:.6rem;padding:.6rem"></textarea>
          </div>
          <div>
            <label>Sammud (üks rida = üks samm)</label>
            <textarea id="rSteps" rows="6" placeholder="1) Keeda pasta...&#10;2) Prae kana...&#10;3) Lisa kaste ..." style="width:100%;background:#121214;color:#fff;border:1px solid rgba(255,255,255,.12);border-radius:.6rem;padding:.6rem"></textarea>
          </div>
          <div>
            <label>Sildid (komadega)</label>
            <input id="rTags" placeholder="nt. kiire, tervislik" style="width:100%;background:#121214;color:#fff;border:1px solid rgba(255,255,255,.12);border-radius:.6rem;padding:.6rem"/>
          </div>
          <div>
            <label>Pildi fail (jpg/png/webp)</label>
            <input id="rImage" type="file" accept="image/*" style="width:100%;background:#121214;color:#fff;border:1px solid rgba(255,255,255,.12);border-radius:.6rem;padding:.4rem"/>
          </div>
          <div>
            <label>Admin parool</label>
            <input id="rPassword" type="password" placeholder="Sisesta admin parool" style="width:100%;background:#121214;color:#fff;border:1px solid rgba(255,255,255,.12);border-radius:.6rem;padding:.6rem"/>
          </div>
        </div>
        <div class="admin-actions" style="display:flex;gap:.5rem;justify-content:flex-end;margin-top:.6rem">
          <button id="saveRecipe" class="btn-modern btn-primary">💾 Salvesta</button>
          <button id="closeAdmin" class="btn-modern btn-secondary">Sulge</button>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="../js/main.js"></script>
    <script src="../js/navigation.js"></script>

    <!-- Google Translate Scripts -->
    <script src="../js/translate.js"></script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <!-- Lehe spetsiifiline JS (dünaamilised retseptid) -->
    <script>
      // Peida Google Translate jäägid
      function removeGoogleTranslateBar(){
        const elements = document.querySelectorAll('.goog-te-banner-frame, .skiptranslate, iframe[name="google_translate_frame"]');
        elements.forEach(el => { el.style.display='none'; el.style.visibility='hidden'; el.style.height='0'; el.style.width='0'; });
        document.body.style.top='0'; document.body.style.position='static'; document.body.style.marginTop='0';
        document.documentElement.style.marginTop='0'; document.documentElement.style.paddingTop='0';
      }
      removeGoogleTranslateBar(); window.addEventListener('load', removeGoogleTranslateBar);
      let attempts=0; const interval=setInterval(()=>{ removeGoogleTranslateBar(); attempts++; if(attempts>10) clearInterval(interval); },500);

      // Lihtne nav-init (kui navigation.js ei kata)
      (function(){
        const navToggle=document.querySelector('.nav-toggle');
        const navLinks=document.querySelector('.nav-links');
        if(navToggle && navLinks){
          navToggle.addEventListener('click', function(e){
            e.stopPropagation();
            const isOpen=navLinks.classList.contains('active');
            navLinks.classList.toggle('active');
            navToggle.classList.toggle('active');
            navToggle.setAttribute('aria-expanded', !isOpen);
            document.body.style.overflow = isOpen ? '' : 'hidden';
          });
          document.addEventListener('click', function(event){
            const inside = navLinks.contains(event.target) || navToggle.contains(event.target);
            if(!inside && navLinks.classList.contains('active')){
              navLinks.classList.remove('active');
              navToggle.classList.remove('active');
              navToggle.setAttribute('aria-expanded','false');
              document.body.style.overflow='';
            }
          });
          document.querySelectorAll('.nav-links a').forEach(a=>{
            a.addEventListener('click', ()=>{
              navLinks.classList.remove('active');
              navToggle.classList.remove('active');
              navToggle.setAttribute('aria-expanded','false');
              document.body.style.overflow='';
            });
          });
        }
      })();
    </script>

    <!-- API teekond + dünaamika -->
    <script>
      // kui api.php on juurikas, jäta nii. Kui on mujal, muuda rada.
      window.API_URL = "../api.php";
    </script>
  <script src="../js/recipes.js"></script>

</body>
</html>
